<!DOCTYPE html>
<html>
<head>
  <title>アルコールチェッカー</title>
  <meta charset="UTF-8">
  
      <!-- CSS -->
  <link rel="stylesheet" href="/css/result.css" th:href="@{/css/result.css}">
</head>
<body>
  <h1>あなたの状態です</h1>
  
<div>  
  <p>飲んだ量</p>
   <!--<span hidden th:text="${sum}">sum</span>
   <span hidden th:text="${sum1}">sum1</span>
   <span hidden th:text="${sum2}">sum2</span>
   <span hidden th:text="${sum3}">sum3</span>
   <span hidden th:text="${sum4}">sum4</span>
   <span hidden th:text="${sum5}">sum5</span>-->
   <span class="endo1" th:text="${gou}"></span>ml<br><br>
   <p>純アルコール量</p>
   <span hidden th:text="${Al}"></span>
   <span hidden th:text="${Al1}"></span>
   <span hidden th:text="${Al2}"></span>
   <span hidden th:text="${Al3}"></span>
   <span hidden th:text="${Al4}"></span>
   <span hidden th:text="${Al5}"></span>
   <span th:text="${gouAl}"></span>g<br><br>
  <p>アルコール分解まで</p>
   <span th:text="${times}"></span>時間<br>
 <div id="CDT"></div>




<script th:inline="javascript" type="text/javascript">
/*<![CDATA[*/
function CountdownTimer(elm,tl,mes){
 this.initialize.apply(this,arguments);
}
CountdownTimer.prototype={
 initialize:function(elm,tl,mes) {
  this.elem = document.getElementById(elm);
  this.tl = tl;
  this.mes = mes;
 },countDown:function(){
  var timer='';
  var today=new Date();
  var day=Math.floor((this.tl-today)/(24*60*60*1000));
  var hour=Math.floor(((this.tl-today)%(24*60*60*1000))/(60*60*1000));
  var min=Math.floor(((this.tl-today)%(24*60*60*1000))/(60*1000))%60;
  var sec=Math.floor(((this.tl-today)%(24*60*60*1000))/1000)%60%60;
  var milli=Math.floor(((this.tl-today)%(24*60*60*1000))/10)%100;
  var me=this;

  if( ( this.tl - today ) > 0 ){
   if (day) timer += '<span class="day">'+day+'日</span>';
   if (hour) timer += '<span class="hour">'+hour+'時間</span>';
   timer += '<span class="min">'+this.addZero(min)+'分</span><span class="sec">'+this.addZero(sec)+'秒</span><span class="milli">'+this.addZero(milli)+'</span>';
   this.elem.innerHTML = timer;
   tid = setTimeout( function(){me.countDown();},10 );
  }else{
   this.elem.innerHTML = this.mes;
   return;
  }
 },addZero:function(num){ return ('0'+num).slice(-2); }
}
function CDT(){
 // var tl = new Date('2018/6/28 00:00:00');
 var tl = new Date(/*[[${time}]]*/ '2018/6/28 00:00:00');
 console.log(/*[[${time}]]*/);
 var timer = new CountdownTimer('CDT',tl,'安全運転でお願いします！');
 timer.countDown();
}
window.onload=function(){
 CDT();
}
/*]]>*/
</script>
 

   
   
 
  <a href = "./index" >ＴＯＰに戻る</a><br>
</body>
</html>